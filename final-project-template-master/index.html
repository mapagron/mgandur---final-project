<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Final</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <style>
      
      .h2 {
        text-align: center;
      }

      .section {
        padding: 2em 0;
      }
      .header {
        background: linear-gradient(to bottom, #404040 0%, #262626 100%);
        color: white;
        padding: 1em 0 2em;
      }
      
      .description div {
        background-color: grey;
        color: white;
        margin: 20px 0 20px 0;
        padding: 20px;
        float:left
      }

      .w3-card-4 {
        display: inline-block;
        width: 33%;
        padding: 2em 0 2em;
      }


        .chart div {
        font: 10px sans-serif;
        background-color: #2b3121;
        text-align: center;
        padding: 3px;
        margin: 1px;
        color: white;
        float:right;
      }

    </style>
  </head>

  <body>
    <div class="header section">
      <div class="container">
        <h1>Colombia: Sexual Assault, Homicides, and Battery </h1>
        <p>Potential consequences of +60 years of internal conflict: 2010 - 2015 </p>
        
      </div>
    </div>

    <div class="chart">
          <div style="width: 454px;">Assault and battery 117964 victims</div>
          <div style="width: 349px;">Homicide - 86942 victims</div>
          <div style="width: 286px;">Sexual Assaults - 71978 victims</div>
      </div>

    <div class= "description problem">
      <div class="description">
      <p>What are the ways which we can potentially interpret this data that are only possible through an interactive visualization?
      
      The perspective of the conflict beyond the guerrilla groups.
      
      So far, studies have focused on what the guerrilla groups have done as part of the Colombian conflict. However, crimes related to the violation of human rights, sexual assaults, and homicides have not been accounted for as a part of the consequences of said conflict.

      As part of the recent peace agreement between Colombia’s government and the guerrilla group FARC, the country faces new challenges which include building up different social structures and establishing mechanisms for the inclusion of guerrilla militants into the productive sector. As part of this data visualization, I would like to explore the special needs based on each region.</p>
      
      <hr>

      <p>The dataset includes more than 200,000 records of victims of homicides, sexual assaults, and battery during the period of 2010-2015. A row includes the date, the type and location of the felony, the gender, education level, and the age of the victim.</p>

      </div>
    </div>
    
    
    <! --Creating the boxes  --> 
    
    <! --Option#1   --> 
    <div class="w3-card-4">
      <header class="w3-container w3-hover-shadow w3-light-green">
        <h2>Option#1 - Heat Calendar</h2>
      </header>
      <div class="w3-container">
        <p>
            <ul>
                <li>Objective : Create awareness about the importance of the peace negotiation process in Colombia as a first step to overcome some of the most worrying social problems that the country faces.  </li>
                <li>Focus Story Telling: "...While in Havana or Peace Matters"  </li>
                <li>Key Points: While Colombian Government was negotiating peace with FARC guerrilla the country faced high volumes of homicides, sexual arrasment, and assault and battery. </li>
            </ul>

        </p>
        <button class="w3-btn-block"> 
          <a href="https://www.lucidchart.com/invitations/accept/257282ef-3b8e-4465-ba85-0d288a364f66" target="_top">+Draft</a>
        </button>
      </div>

      <footer class="w3-container w3-light-green">
        <h5>Bibliography/Code Sources:
            <a href="https://bl.ocks.org/mbostock/4063318" target="_top">Source 1,</a>
            <a href="http://bl.ocks.org/tjdecke/5558084" target="_top">Source 2,</a>
            <a href="http://mikemcdearmon.com/portfolio/300-outings" target="_top">Source 3.</a>
                     
        </h5>
      </footer>

    </div>
      <! --Option#2   --> 
    <div class="w3-card-4">
      <header class="w3-container w3-hover-shadow w3-lime">
        <h2>Option#2 - Map  </h2>
      </header> 
      <div class="w3-container">
        <p>
           <ul>
                <li>Objective : Present the different consequences and the most affected areas of Colombia in regards to homicides, sexual assaults, and battery. 
                </li>
                <li>Focus Story Telling: "Colombia beyond the conflict"  </li>
                <li>Key Points: Colombia has at least one homicide per day. How many countries around the world hold this standard?  
                Based on the data - young professionals who live in capitals are most likely to be murdered. Amongst them, women and children are the most affected groups of sexual assault.
                 </li>
            </ul> 
        </p>
        <button class="w3-btn-block">
          <a href="https://www.lucidchart.com/invitations/accept/257282ef-3b8e-4465-ba85-0d288a364f66" target="_top">+Draft</a>
        </button>
      </div>

      <footer class="w3-container w3-lime">
        <h5>Bibliography/Code Sources:
            <a href="http://bl.ocks.org/mbostock/5562380" target="_top">Source 1.</a>          
       </h5>
      </footer>

    </div>    
   
    <! --Option#3   --> 
    <div class="w3-card-4">
      <header class="w3-container w3-hover-shadow w3-light-green">
        <h2>Option#3 - Bubble Chart + Histogram  </h2>
      </header> 
      <div class="w3-container">
        <p>
           <ul>
                <li>Objective : Objective: Present the behaviour of homicides, sexual assaults, and battery divided by the 32 Colombian departments compared to the index of conflict that the government assigned to each one of them. 
                </li>
                <li>Focus Story Telling: "Departments: social problems vs conflict"  </li>
                <li>Key Points: Colombia has at least one homicide per day. How many countries around the world hold this standard?  
                Based on the data - young professionals who live in capitals are most likely to be murdered. Amongst them, women and children are the most affected groups of sexual assault.
                 </li>
            </ul> 
        </p>
        <button class="w3-btn-block">
          <a href="https://www.lucidchart.com/invitations/accept/bc8be060-bf1f-45a7-97bc-87468d8ef8e1" target="_top">+Draft</a>
        </button>
      </div>

      <footer class="w3-container w3-lime">
        <h5>Bibliography/Code Sources:
            <a href="https://bl.ocks.org/mbostock/4063269" target="_top">Source 1.</a>          
       </h5>
      </footer>

    </div>  
 
    <script type="text/javascript" src="https://npmcdn.com/d3@3.5.17/d3.min.js"></script>
    <script type="text/javascript" src="https://npmcdn.com/science@1.9.3/science.v1.min.js"></script>
    <script type="text/javascript" src="https://npmcdn.com/simple-statistics@2.0.0/dist/simple-statistics.min.js"></script>
    <script>

    /*
    // Creating a Basic Bubble Chart 
    // Source // https://bl.ocks.org/mbostock/4063269 ; http://jrue.github.io/coding/
    // documentation: https://github.com/d3/d3-3.x-api-reference/blob/master/Pack-Layout.md 
    // TODO: How to categorize the bubbles as complex as this code 
    // JUL21 - TODO: 1- Understand what attributes, r, dx, and dy are doing. 
    // JUL21 - Lines: 249... "r, cx, cy, expected lenght is non a number"
    
      var diameter = 500, //max size of the bubbles
      color = d3.scale.category20c(); //color category

      var bubble = d3.layout.pack()
      .sort(null)
      .size([diameter, diameter])
      .padding(1.5);

      var svg = d3.select("body")
      .append("svg")
      .attr("width", diameter)
      .attr("height", diameter)
      .attr("class", "bubble");

      var data = [
      [{"Department":"AMAZONAS","Victims":776},
      {"Department":"ANTIOQUIA","Victims":24942},
      {"Department":"ARAUCA","Victims":3089},
      {"Department":"ATLÁNTICO","Victims":17040},
      {"Department":"BOLÍVAR","Victims":9646},
      {"Department":"BOYACÁ","Victims":6506},
      {"Department":"CALDAS","Victims":4389},
      {"Department":"CAQUETÁ","Victims":4915},
      {"Department":"CASANARE","Victims":1947},
      {"Department":"CAUCA","Victims":6123},
      {"Department":"CESAR","Victims":4860},
      {"Department":"CHOCÓ","Victims":2882},
      {"Department":"CÓRDOBA","Victims":6326},
      {"Department":"CUNDINAMARCA","Victims":35301},
      {"Department":"GUAINÍA","Victims":111},
      {"Department":"GUAJIRA","Victims":5499},
      {"Department":"GUAVIARE","Victims":698},
      {"Department":"HUILA","Victims":14270},
      {"Department":"MAGDALENA","Victims":6314},
      {"Department":"META","Victims":10433},
      {"Department":"NARIÑO","Victims":14129},
      {"Department":"NORTE DE SANTANDER","Victims":9994},
      {"Department":"PUTUMAYO","Victims":3494},
      {"Department":"QUINDÍO","Victims":3334},
      {"Department":"RISARALDA","Victims":5625},
      {"Department":"SAN ANDRÉS","Victims":347},
      {"Department":"SANTANDER","Victims":17637},
      {"Department":"SUCRE","Victims":5875},
      {"Department":"TOLIMA","Victims":6177},
      {"Department":"VALLE","Victims":43733},
      {"Department":"VAUPÉS","Victims":57},
      {"Department":"VICHADA","Victims":415}]
      ]

      //convert numerical values from strings to numbers
      //data = data.map(function(d){ d.value = +d["victims"]; return d; });

      //bubbles needs very specific format, convert data to this.
        var nodes =  bubble.nodes({children:data}).filter(function(d) { return !d.children; });

        //setup the chart
        var bubbles = svg.append("g")
            .attr("transform", "translate(0,0)")
            .selectAll(".bubble")
            .data(nodes)
            .enter();

        //create the bubbles
        bubbles.append("circle")
            .attr("r", function(d){ return d.r; })
            .attr("cx", function(d){ return d.x; })
            .attr("cy", function(d){ return d.y; })
            .style("fill", function(d) { return color(d.value); });

        //format the text for each bubble
        bubbles.append("text")
            .attr("x", function(d){ return d.x; })
            .attr("y", function(d){ return d.y; })
            .attr("text-anchor", "middle")
            .text(function(d){ return d["data"]; })
      */ 

      </script>
  
  </body>
</html>
